{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport leaflet from 'leaflet';\nfunction useMap(mapRef, offer) {\n  _s();\n  const [map, setMap] = useState();\n  const isRenderedRef = useRef(false);\n  useEffect(() => {\n    if (mapRef.current !== null && !isRenderedRef.current) {\n      const instance = leaflet.map(mapRef.current, {\n        center: {\n          lat: offer.city.location.latitude,\n          lng: offer.city.location.longitude\n        },\n        zoom: offer.city.location.zoom\n      });\n      leaflet.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n      }).addTo(instance);\n      setMap(instance);\n      isRenderedRef.current = true;\n    }\n  }, [mapRef, offer]);\n  return map;\n}\n_s(useMap, \"hRz1741+7majB5aPBpizqzrBIII=\");\nexport default useMap;","map":{"version":3,"names":["useEffect","useRef","useState","leaflet","useMap","mapRef","offer","_s","map","setMap","isRenderedRef","current","instance","center","lat","city","location","latitude","lng","longitude","zoom","tileLayer","attribution","addTo"],"sources":["C:/Users/Cody/Documents/GitHub/2205815-six-cities-simple-12/project/src/hooks/use-map/use-map.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport leaflet from 'leaflet';\r\n\r\n\r\nfunction useMap(mapRef, offer) {\r\n  const [map, setMap] = useState();\r\n  const isRenderedRef = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (mapRef.current !== null && !isRenderedRef.current) {\r\n      const instance = leaflet.map(mapRef.current, {\r\n        center: {\r\n          lat: offer.city.location.latitude,\r\n          lng: offer.city.location.longitude,\r\n        },\r\n        zoom: offer.city.location.zoom,\r\n      });\r\n      leaflet\r\n        .tileLayer(\r\n          'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\r\n          {\r\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\r\n          },\r\n        )\r\n        .addTo(instance);\r\n\r\n      setMap(instance);\r\n      isRenderedRef.current = true;\r\n    }\r\n  }, [mapRef, offer]);\r\n\r\n  return map;\r\n}\r\n\r\nexport default useMap;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAOC,OAAO,MAAM,SAAS;AAG7B,SAASC,MAAMA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAAAC,EAAA;EAC7B,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGP,QAAQ,EAAE;EAChC,MAAMQ,aAAa,GAAGT,MAAM,CAAC,KAAK,CAAC;EAEnCD,SAAS,CAAC,MAAM;IACd,IAAIK,MAAM,CAACM,OAAO,KAAK,IAAI,IAAI,CAACD,aAAa,CAACC,OAAO,EAAE;MACrD,MAAMC,QAAQ,GAAGT,OAAO,CAACK,GAAG,CAACH,MAAM,CAACM,OAAO,EAAE;QAC3CE,MAAM,EAAE;UACNC,GAAG,EAAER,KAAK,CAACS,IAAI,CAACC,QAAQ,CAACC,QAAQ;UACjCC,GAAG,EAAEZ,KAAK,CAACS,IAAI,CAACC,QAAQ,CAACG;QAC3B,CAAC;QACDC,IAAI,EAAEd,KAAK,CAACS,IAAI,CAACC,QAAQ,CAACI;MAC5B,CAAC,CAAC;MACFjB,OAAO,CACJkB,SAAS,CACR,0EAA0E,EAC1E;QACEC,WAAW,EAAE;MACf,CAAC,CACF,CACAC,KAAK,CAACX,QAAQ,CAAC;MAElBH,MAAM,CAACG,QAAQ,CAAC;MAChBF,aAAa,CAACC,OAAO,GAAG,IAAI;IAC9B;EACF,CAAC,EAAE,CAACN,MAAM,EAAEC,KAAK,CAAC,CAAC;EAEnB,OAAOE,GAAG;AACZ;AAACD,EAAA,CA5BQH,MAAM;AA8Bf,eAAeA,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}